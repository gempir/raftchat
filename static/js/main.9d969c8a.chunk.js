(this.webpackJsonpriftchat=this.webpackJsonpriftchat||[]).push([[0],{384:function(e,t,n){e.exports=n(723)},389:function(e,t,n){},405:function(e,t){},407:function(e,t){},425:function(e,t){},427:function(e,t){},433:function(e,t){},434:function(e,t){},436:function(e,t){},487:function(e,t){},488:function(e,t){},535:function(e,t){},537:function(e,t){},723:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),o=n.n(a),l=(n(389),n(36)),u=(n(390),n(391),n(392),n(199)),i=n(37),s=n(68),m=n(42),d=n(379),f=n(371),h=n(83);var v={state:{chatClient:new f.ChatClient({connection:{type:"websocket",secure:!0}}),settings:{direction:"row",first:"nymn",second:{direction:"column",first:"pokimane",second:"pajlada"},splitPercentage:40},queryCache:new h.a},setState:function(e){},setSettings:function(e){}},b=Object(c.createContext)(v),g=b.Provider,E=function(e){var t=e.children,n=function(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),r=Object(m.a)(n,2),a=r[0],o=r[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}("settings",v.state.settings),a=Object(m.a)(n,2),o=a[0],l=a[1],u=Object(c.useState)(Object(d.a)({},v.state,{settings:o})),i=Object(m.a)(u,2),s=i[0],f=i[1];return r.a.createElement(g,{value:{state:s,setState:f,setSettings:l}},t)};function p(){return Object(c.useContext)(b).state}var w=n(196);function j(){var e=Object(l.a)(["\n\tdisplay: inline-block;\n\tcolor: ",";\n\tmargin-right: 3px;\n\tfont-weight: bold;\n"]);return j=function(){return e},e}var x=i.a.div(j(),(function(e){return e.color}));function y(e){var t=e.displayName,n=e.color;return r.a.createElement(x,{color:n},t,":")}function O(){var e=Object(l.a)(["\n\tmargin: 0 3px;\n"]);return O=function(){return e},e}function k(){var e=Object(l.a)(["\n\tmargin: 0 0;\n\tmin-height: 1.5rem;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n"]);return k=function(){return e},e}var F=i.a.div(k()),S=i.a.img(O()),C=r.a.memo((function(e){for(var t,n=e.message,c=e.thirdPartyEmotes,a=[],o="",l=0;l<=n.messageText.length;l++){var u=n.messageText[l];t=!1;var i,s=Object(w.a)(n.emotes);try{for(s.s();!(i=s.n()).done;){var m=i.value;if(m.startIndex===l){t=!0,a.push(r.a.createElement(S,{key:l,alt:m.code,src:"https://static-cdn.jtvnw.net/emoticons/v1/".concat(m.id,"/1.0")})),l+=m.endIndex-m.startIndex-1;break}}}catch(b){s.e(b)}finally{s.f()}if(!t){if(" "!==u&&l!==n.messageText.length){o+=u;continue}var d,f=!1,h=Object(w.a)(c);try{for(h.s();!(d=h.n()).done;){var v=d.value;if(o.trim()===v.code){a.push(r.a.createElement(S,{key:l,alt:v.code,src:v.urls.small})),f=!0,o="";break}}}catch(b){h.e(b)}finally{h.f()}f||(a.push(o),o=""),a.push(u)}}return r.a.createElement(F,null,r.a.createElement(y,{displayName:n.displayName,color:n.colorRaw})," ",a)}),(function(){return!0}));function L(){var e=Object(l.a)(["\n    list-style-type: none;\n    flex-grow: 1;\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\n\t&::-webkit-scrollbar {\n\t\twidth: 0px;\n\t}\n\t\n\t&::-webkit-scrollbar-track {\n\t\tbackground: transparent;\n\t}\n\n\t&::-webkit-scrollbar-thumb {\n\t\tbackground-color: transparent;\n\t}\n"]);return L=function(){return e},e}function q(){var e=Object(l.a)(["\n\tflex-grow: 1;\n    display: flex;\n    flex-direction: column;\n\theight: 100%;\n"]);return q=function(){return e},e}var R=i.a.div(q()),I=i.a.ul(L());function N(e){return e.channel?r.a.createElement(z,{channel:e.channel}):r.a.createElement(M,null)}function z(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=p(),r=n.chatClient,a=Object(c.useState)([]),o=Object(m.a)(a,2),l=o[0],u=o[1],i=Object(c.useCallback)((function(n){if(n.channelName===e){var c=Object(s.a)(l);c.length+1===t&&c.pop(),c.unshift(n),u(c)}}),[t,e,l]);return Object(c.useEffect)((function(){return r.join(e),r.on("PRIVMSG",i),function(){return r.removeListener("PRIVMSG",i)}}),[e,r,t,i]),l}(e.channel),n=t.length>0?t[0].channelID:"",a=Object(s.a)(function(e){var t=Object(h.c)("bttv:channel:".concat(e),(function(){return""===e?Promise.resolve({sharedEmotes:[],channelEmotes:[]}):fetch("https://api.betterttv.net/3/cached/users/twitch/".concat(e)).then((function(e){return e.json()}))})),n=t.isLoading,c=t.error,r=t.data;if(n)return[];if(c)return console.error(c),[];for(var a=[],o=0,l=[].concat(Object(s.a)(null!==(u=null===r||void 0===r?void 0:r.channelEmotes)&&void 0!==u?u:[]),Object(s.a)(null!==(i=null===r||void 0===r?void 0:r.sharedEmotes)&&void 0!==i?i:[]));o<l.length;o++){var u,i,m=l[o];a.push({id:m.id,code:m.code,urls:{small:"https://cdn.betterttv.net/emote/".concat(m.id,"/1x"),medium:"https://cdn.betterttv.net/emote/".concat(m.id,"/2x"),big:"https://cdn.betterttv.net/emote/".concat(m.id,"/3x")}})}return a}(n));return r.a.createElement(R,null,r.a.createElement(I,null,t.map((function(e){return r.a.createElement("li",{key:e.messageID},r.a.createElement(C,{message:e,thirdPartyEmotes:a}))}))))}function M(){return r.a.createElement(R,null,"no chat")}var P=n(370);function D(e){return e&&e?Boolean(document.fullscreenElement===e||document.mozFullScreenElement===e||document.webkitFullscreenElement===e||document.msFullscreenElement===e):Boolean(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}function B(){var e=Object(l.a)(["\n    display: flex;\n\talign-items: center;\n\tpadding: 5px;\n    width: 100%;\n    height: 2rem;\n\tjustify-content: space-between;\n\n\t.bp3-button {\n\t\tmin-height: 0;\n\t\tmin-width: 0;\n\t\tbackground: transparent !important;\n\t}\n"]);return B=function(){return e},e}var J=i.a.div(B());function T(){var e=function(e){var t=D(e),n=Object(c.useState)(t),r=Object(m.a)(n,2),a=r[0],o=r[1];return Object(c.useEffect)((function(){function t(){o(D(e))}return document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("msfullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1),document.addEventListener("fullscreenchange",t,!1),function(){document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("msfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t),document.removeEventListener("fullscreenchange",t)}}),[e]),[a,a?function(){return document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():void 0}:function(){var t=e&&e||document.documentElement;return t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():void 0}]}(document.body),t=Object(m.a)(e,2)[1];return r.a.createElement(J,null,"Settings",r.a.createElement(P.g,{icon:"fullscreen",onClick:t}))}var A=n(1),V="#121416",G="#1C1F22",K="#25292D",W="#090A0B";function H(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n\t.mosaic-window-body {\n\t\tpadding: 5px;\n\t}\n\n\t.mosaic.mosaic-blueprint-theme.bp3-dark {\n\t\tbackground: ",";\n\n\t\t.mosaic-window-body {\n\t\t\tbackground: ",";\n\t\t}\n\n\t\t.mosaic-window-toolbar {\n\t\t\tbackground: ",";\n\t\t}\n\n\t\t.mosaic-window-toolbar.draggable:hover {\n\t\t\tbackground: ",";\n\t\t}\n\t}\n"]);return H=function(){return e},e}var Q=i.a.div(H(),W,V,G,K);function U(){var e=Object(c.useContext)(b).state;return Object(c.useEffect)((function(){e.chatClient.connect()}),[e.chatClient]),r.a.createElement(h.b,{queryCache:e.queryCache},r.a.createElement(Q,{className:"mosaic-blueprint-theme ".concat(A.g.DARK)},r.a.createElement(T,null),r.a.createElement(u.Mosaic,{className:"mosaic-blueprint-theme ".concat(A.g.DARK),renderTile:function(e,t){return r.a.createElement(u.MosaicWindow,{path:t,createNode:function(){var e;return null!==(e=prompt("Enter Channel Name"))&&void 0!==e?e:""},title:e},r.a.createElement(N,{channel:e}))},initialValue:e.settings})))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null,r.a.createElement(U,null))),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.9d969c8a.chunk.js.map